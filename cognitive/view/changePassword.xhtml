<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	    		xmlns:ui="http://java.sun.com/jsf/facelets"
	  			xmlns:h="http://java.sun.com/jsf/html"
	  			xmlns:f="http://java.sun.com/jsf/core"
	  			xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:a="http://richfaces.org/rich"
				template="template.xhtml">
				
	<ui:define name="navigation">
		<ui:param name="pageid" value="change-password" />
	</ui:define>
				
	<ui:define name="content">
	
	  <h1>Zmiana hasła</h1>
	
	  <div>
	  	Podaj stare i nowe hasło:
	  </div>
	  
      <f:view>
         <h:form id="change-password">
		    <f:facet name="afterInvalidField">
		        <s:message/>
		    </f:facet>
         
            <s:validateAll>
               <h:panelGrid columns="2">
                  Stare hasło:
                   <s:decorate><h:inputSecret id="oldPassword" value="#{passwordChanger.oldPassword}" 
                  			validator="#{passwordChanger.validateOldPasswordField}" required="true"/></s:decorate>
                  			
                  Nowe hasło: <s:decorate><h:inputSecret id="newPassword" value="#{passwordChanger.newPassword}" 
                  			validator="#{passwordValidator.validateField}" required="true"/></s:decorate>
                  Powtórz nowe hasło: <s:decorate><h:inputSecret id="newPasswordRepeated" value="#{passwordChanger.newPasswordRepeated}"
                  			validator="#{passwordValidator.validateField}" required="true"/></s:decorate>
               </h:panelGrid>
            </s:validateAll>
            <h:commandButton id="changePassword" value="Zmień hasło" action="#{passwordChanger.changePassword}"/>
         </h:form>
      </f:view>
 </ui:define>
</ui:composition>

